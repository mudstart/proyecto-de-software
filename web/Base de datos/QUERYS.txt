SELECTS DEL PROYECTO: REPUBLICA DIGITAL
_______________________________________

1. MUESTRA LOS ESTUDIANTES, EL CURSO QUE ESTAN INSCRITO Y A QUE RECINTO PERTENECE:

SELECT E.NOMBRE ESTUDIANTE, C.NOMBRE CURSO, R.NOMBRE RECINTO 
FROM ESTUDIANTE E, CURSO C, RECINTO R, CUR_EST CE
WHERE E.ID_ESTUDIANTE = CE.ID_ESTUDIANTE AND CE.ID_CURSO = C.ID_CURSO AND C.ID_RECINTO = R.ID_RECINTO


2. MUESTRA LA CANTIDAD DE CURSOS QUE TIENE UN RECINTO:

SELECT R.NOMBRE RECINTO, COUNT(C.ID_CURSO) CANTIDAD_CURSO
FROM CURSO C, RECINTO R
WHERE R.ID_RECINTO = C.ID_RECINTO
GROUP BY (R.NOMBRE) 


3. MUESTRA EL PROFESOR, LAS MATERIAS QUE IMPARTE, EN QUE CURSO LA IMPARTE Y AL RECINTO QUE PERTENECE:

SELECT P.NOMBRE PROFESOR, A.NOMBRE ASIGNATURA, DATE_FORMAT(CA.HORARIO, '%h:%i %p') HORARIO, C.NOMBRE CURSO, R.NOMBRE RECINTO 
FROM PROFESOR P, ASIG_PROF AP, ASIGNATURA A, CUR_ASIG CA, CURSO C, RECINTO R 
WHERE P.ID_PROFESOR = AP.ID_PROFESOR AND AP.ID_ASIGNATURA = A.ID_ASIGNATURA AND A.ID_ASIGNATURA = CA.ID_ASIGNATURA AND CA.ID_CURSO = C.ID_CURSO AND C.ID_RECINTO = R.ID_RECINTO


4. MUESTRA EL HORARIO COMPLETO DE UN ESTUDIANTE DETERMINADO:

//ESTO TRAE EL RECINTO DEL CURSO Y DEL PROFESOR, PARA VER A CUAL RECINTO SE DEBEN TOMAR LOS PROF//
SELECT E.NOMBRE, C.ID_RECINTO
FROM CURSO C, ESTUDIANTE E, CUR_EST CE
WHERE E.ID_ESTUDIANTE = CE.ID_ESTUDIANTE AND CE.ID_CURSO = C.ID_CURSO AND E.ID_ESTUDIANTE = 2

SELECT CONCAT(DATE_FORMAT(CA.HORARIO, '%h:%i'), ' - ', DATE_FORMAT(CA.TERMINO, '%h:%i %p')) HORA, A.NOMBRE, CA.DIA, CONCAT(P.NOMBRE, ' ', P.APELLIDO) PROFESOR
FROM ESTUDIANTE E, ASIGNATURA A, CURSO C, CUR_ASIG CA, PROFESOR P
WHERE EXISTS
(
    SELECT * FROM CUR_EST CE, ASIG_PROF AP
    WHERE E.ID_ESTUDIANTE = CE.ID_ESTUDIANTE AND CE.ID_CURSO = C.ID_CURSO AND C.ID_CURSO = CA.ID_CURSO AND CA.ID_ASIGNATURA = A.ID_ASIGNATURA AND A.ID_ASIGNATURA = AP.ID_ASIGNATURA AND AP.ID_PROFESOR = P.ID_PROFESOR AND E.ID_ESTUDIANTE = 2 AND CE.ESTADO = 'C' AND (P.ID_RECINTO = 2 AND C.ID_RECINTO = 2)
    ORDER BY CA.CUR_ASIG ASC
)

5. SELECT QUE MUESTRA EL GRUPO DE ALUMNOS DE UN PROFESOR:

SELECT CONCAT(P.NOMBRE, ' ', P.APELLIDO) PROFESOR, A.NOMBRE ASIGNATURA, E.NOMBRE ESTUDIANTE, C.NOMBRE GRUPO, DATE_FORMAT(CA.HORARIO, '%h:%i %p') HORARIO_CLASE
FROM CURSO C, ESTUDIANTE E, CUR_EST CE, ASIGNATURA A, CUR_ASIG CA, ASIG_PROF AP, PROFESOR P
WHERE E.ID_ESTUDIANTE = CE.ID_ESTUDIANTE AND CE.ID_CURSO = C.ID_CURSO AND C.ID_CURSO = CA.ID_CURSO AND CA.ID_ASIGNATURA = A.ID_ASIGNATURA AND A.ID_ASIGNATURA = AP.ID_ASIGNATURA AND AP.ID_PROFESOR = P.ID_PROFESOR AND P.ID_PROFESOR = 1


6. MUESTRA LAS CALIFICACIONES QUE HA OBTENIDO UN ESTUDIANTE, ADEMAS, MUESTRA EL NOMBRE DE LA ASIGNATURA, TODAS LAS NOTAS PARCIALES Y EXAMENES:

SELECT E.NOMBRE ESTUDIANTE, CU.NOMBRE CURSO, CONCAT(P.NOMBRE, ' ', P.APELLIDO) PROFESOR, A.NOMBRE ASIGNATURA, C.P 1RA, C.S 2DA, C.T 3RA, C.C 4TA, C.Q 5TA, TRUNCATE((C.P + C.S + C.T + C.C + C.Q)/5, 2) CFP, C.P_2 1RA, C.S_2 2DA, C.T_2 3RA, C.C_2 4TA, C.Q_2 5TA, TRUNCATE((C.P_2 + C.S_2 + C.T_2 + C.C_2 + C.Q_2)/5, 2) CFP_2
FROM ESTUDIANTE E, CURSO CU, CUR_EST CE, ASIGNATURA A, CALIFICACION C, PROFESOR P
WHERE CU.ID_CURSO = CE.ID_CURSO AND CE.ID_ESTUDIANTE = E.ID_ESTUDIANTE AND E.ID_ESTUDIANTE = C.ID_ESTUDIANTE AND C.ID_ASIGNATURA = A.ID_ASIGNATURA AND  P.ID_PROFESOR = C.ID_PROFESOR AND E.ID_ESTUDIANTE = 1


7. MUESTRA EL NOMBRE DE LA SECRETARIA JUNTO AL NOMBRE DEL ALUMNO, EL CURSO Y EL DIA QUE SE INSCRIBIO:

SELECT R.NOMBRE RECINTO, S.NOMBRE SECRETARIA, E.ID_ESTUDIANTE ID, E.NOMBRE ESTUDIANTE, C.NOMBRE CURSO, DATE_FORMAT(CE.FECHA_INSC, '%d %b %y %h:%i %p') INSCRITO
FROM RECINTO R, SECRETARIA S, ESTUDIANTE E, CURSO C, CUR_EST CE
WHERE E.ID_ESTUDIANTE = CE.ID_ESTUDIANTE AND CE.ID_CURSO = C.ID_CURSO AND C.ID_RECINTO = R.ID_RECINTO AND R.ID_RECINTO = S.ID_RECINTO AND S.ID_SECRETARIA = CE.ID_SECRETARIA


9. MUESTRA LA CANTIDAD DE ESTUDIANTES QUE TIENE UN RECINTO PUBLICO:

SELECT COUNT(E.ID_ESTUDIANTE) CANT_ESTUDIANTE, R.NOMBRE RECINTO, CONCAT(RE.REGIONAL, '-', R.DISTRITO) DISTRITO
FROM ESTUDIANTE E, CURSO C, CUR_EST CE, RECINTO R, REGIONAL RE
WHERE E.ID_ESTUDIANTE = CE.ID_ESTUDIANTE AND CE.ID_CURSO = C.ID_CURSO AND C.ID_RECINTO = R.ID_RECINTO AND R.ID_REGIONAL = RE.ID_REGIONAL
GROUP BY R.NOMBRE




---SELECT PARA MOSTRAR EL HORARIO DE UN CURSO PARA LA SECRETARIA---

SELECT P.ID_PROFESOR, CONCAT(P.NOMBRE, ' ', P.APELLIDO) PROFESOR, A.NOMBRE, C.NOMBRE CURSO, DATE_FORMAT(CA.HORARIO, '%h:%i %p') HORA, CA.DIA
FROM PROFESOR P, ASIGNATURA A, CURSO C, CUR_ASIG CA
WHERE EXISTS
(
    SELECT * FROM ASIG_PROF AP
    WHERE AP.ID_PROFESOR = P.ID_PROFESOR AND AP.ID_ASIGNATURA = A.ID_ASIGNATURA AND A.ID_ASIGNATURA = CA.ID_ASIGNATURA AND CA.ID_CURSO = C.ID_CURSO AND C.ID_CURSO = 4 AND (C.ID_RECINTO = 2 AND P.ID_RECINTO = 2)
    ORDER BY CA.CUR_ASIG
)


---SELECT QUE MUESTRA EL HORARIO PARA UN PROFESOR---
SELECT P.ID_PROFESOR, CONCAT(P.NOMBRE, ' ', P.APELLIDO) PROFESOR, A.NOMBRE, C.NOMBRE CURSO, DATE_FORMAT(CA.HORARIO, '%h:%i %p') HORA, CA.DIA
FROM PROFESOR P, ASIGNATURA A, CURSO C, CUR_ASIG CA
WHERE EXISTS
(
    SELECT * FROM ASIG_PROF AP
    WHERE AP.ID_PROFESOR = P.ID_PROFESOR AND AP.ID_ASIGNATURA = A.ID_ASIGNATURA AND A.ID_ASIGNATURA = CA.ID_ASIGNATURA AND CA.ID_CURSO = C.ID_CURSO AND P.ID_PROFESOR = 12 AND (P.ID_RECINTO = 2 AND C.ID_RECINTO = 2)
    ORDER BY CA.CUR_ASIG
)


--SELECT QUE MUESTRA EL NUMERO DEL ESTUDIANTE Y EL CURSO---

SET @NUM_ROW := 0;
SELECT @NUM_ROW := @NUM_ROW + 1 AS NUMERO, CONCAT(E.NOMBRE, ' ', E.APELLIDO) ESTUDIANTE, C.NOMBRE CURSO, S.NOMBRE
FROM ESTUDIANTE E, CURSO C, CUR_EST CE, SECRETARIA S
WHERE E.ID_ESTUDIANTE = CE.ID_ESTUDIANTE AND CE.ID_CURSO = C.ID_CURSO AND CE.ID_SECRETARIA = S.ID_SECRETARIA AND C.ID_CURSO = 2 AND (S.ID_SECRETARIA = 1 AND (S.ID_RECINTO = 1 AND C.ID_RECINTO = 1))
ORDER BY (E.ID_ESTUDIANTE) ASC


--SELECT QUE MUESTRA LA INFO BASICA DE UN ESTUDIANTE--

SELECT CONCAT(E.NOMBRE, ' ', E.APELLIDO) ESTUDIANTE, DATE_FORMAT(E.FECHA_NAC, '%d %M %Y') FECHA_NAC, R.NOMBRE RECINTO,  C.NOMBRE CURSO, CONCAT(P.NOMBRE, ' ', P.APELLIDO) TUTOR, C.ID_RECINTO
FROM CURSO C, ESTUDIANTE E, CUR_EST CE, RECINTO R, PROFESOR P, TUTOR T
WHERE E.ID_ESTUDIANTE = CE.ID_ESTUDIANTE AND CE.ID_CURSO = C.ID_CURSO AND C.ID_RECINTO = R.ID_RECINTO AND C.ID_CURSO = T.ID_CURSO AND T.ID_PROFESOR = P.ID_PROFESOR AND E.ID_ESTUDIANTE = 2